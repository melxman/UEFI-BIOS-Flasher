# HiiImageEx.py
#
# Copyright (C) 2017 efipy.core@gmail.com All rights reserved.
#
# HiiImageEx.py is free software: you can redistribute it and/or
# modify it under the terms of the GNU General Public License as published by
# the Free Software Foundation, version 2 of the License.
#
# EfiPy is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with EfiPy.  If not, see <http://www.gnu.org/licenses/>.
#

from EfiPy  import *

from EfiPy.MdePkg.Protocol.HiiImage import EFI_HII_HANDLE, EFI_IMAGE_ID, EFI_IMAGE_INPUT, EFI_HII_DRAW_FLAGS, EFI_IMAGE_OUTPUT
from EfiPy.MdePkg.Protocol.Http import EFI_HTTP_HEADER
 
class EFI_HII_IMAGE_EX_PROTOCOL (Structure):
  pass

EFI_HII_NEW_IMAGE_EX = CFUNCTYPE (
  EFI_STATUS,
  POINTER(EFI_HII_IMAGE_EX_PROTOCOL),  # IN CONST *This
  EFI_HII_HANDLE,                      # IN       PackageList,
  POINTER(EFI_IMAGE_ID),               # OUT      *ImageId,
  POINTER(EFI_IMAGE_INPUT)             # IN CONST *Image
  )

EFI_HII_GET_IMAGE_EX = CFUNCTYPE (
  EFI_STATUS,
  POINTER(EFI_HII_IMAGE_EX_PROTOCOL),  # IN CONST *This
  EFI_HII_HANDLE,                      # IN       PackageList,
  EFI_IMAGE_ID,                        # IN       ImageId,
  POINTER(EFI_IMAGE_INPUT)             #    OUT   *Image
  )

EFI_HII_SET_IMAGE_EX = CFUNCTYPE (
  EFI_STATUS,
  POINTER(EFI_HII_IMAGE_EX_PROTOCOL),  # IN CONST *This
  EFI_HII_HANDLE,                      # IN       PackageList,
  EFI_IMAGE_ID,                        # IN       ImageId,
  POINTER(EFI_IMAGE_INPUT)             # IN CONST *Image
  )

EFI_HII_DRAW_IMAGE_EX = CFUNCTYPE (
  EFI_STATUS,
  POINTER(EFI_HII_IMAGE_EX_PROTOCOL),  #   IN CONST *This
  EFI_HII_DRAW_FLAGS,                  #   IN        Flags,
  POINTER(EFI_IMAGE_INPUT),            #   IN CONST  *Image,
  POINTER(EFI_IMAGE_OUTPUT),           #   IN OUT    **Blt,
  UINTN,                               #   IN        BltX,
  UINTN                                #   IN        BltY
  )

EFI_HII_DRAW_IMAGE_ID_EX = CFUNCTYPE (
  EFI_STATUS,
  POINTER(EFI_HII_IMAGE_EX_PROTOCOL),  #   IN CONST *This
  EFI_HII_DRAW_FLAGS,                  #   IN        Flags,
  EFI_HII_HANDLE,                      #   IN        PackageList,
  EFI_IMAGE_ID,                        #   IN        ImageId,
  POINTER(POINTER(EFI_IMAGE_OUTPUT)),  #   IN OUT    **Blt,
  UINTN,                               #   IN        BltX,
  UINTN                                #   IN        BltY
  )

EFI_HII_GET_IMAGE_INFO = CFUNCTYPE (
  EFI_STATUS,
  POINTER(EFI_HII_IMAGE_EX_PROTOCOL),  #   IN CONST *This
  EFI_HII_HANDLE,                      #   IN        PackageList,
  EFI_IMAGE_ID,                        #   IN        ImageId,
  POINTER(EFI_IMAGE_OUTPUT)            #   OUT       *Image
  )

EFI_HII_IMAGE_EX_PROTOCOL._fields_ = [
  ("NewImageEx",    EFI_HII_NEW_IMAGE_EX),
  ("GetImageEx",    EFI_HII_GET_IMAGE_EX),
  ("SetImageEx",    EFI_HII_SET_IMAGE_EX),
  ("DrawImageEx",   EFI_HII_DRAW_IMAGE_EX),
  ("DrawImageIdEx", EFI_HII_DRAW_IMAGE_ID_EX),
  ("GetImageInfo",  EFI_HII_GET_IMAGE_INFO),
  ]

gEfiHiiImageExProtocolGuid      = \
  EFI_GUID (0x1a1241e6, 0x8f19, 0x41a9,  (0xbc, 0xe, 0xe8, 0xef, 0x39, 0xe0, 0x65, 0x46))

